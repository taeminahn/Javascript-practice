<!DOCTYPE html>
<html>
    <head>
        <title>객체</title>
    </head>
    <style>
        .area-big {
            height: 400px;
            background-color: lightgray;
            border: 1px solid black;
        }
        .area {
            height: 150px;
            background-color: lightgray;
            border: 1px solid black;
        }
    </style>
    <body>
        <h1>객체</h1>
        <hr>
        <h3>객체 배열</h3>
        <button onclick="test1();">실행확인</button>
        <div id="area1" class="area"></div>
        <script>
            function test1(){
                var student0 = {
                    name: '홍길동',
                    kor: 40,
                    eng: 30,
                    math: 50
                };
                var student1 = {
                    name: '임꺽정',
                    kor: 80,
                    eng: 60,
                    math: 40
                };
                var student2 = {
                    name: '향단이',
                    kor: 60,
                    eng: 80,
                    math: 50
                };
                // 배열 선언
                var students = [];

                // 배열에 값 추가
                students.push(student0);
                students.push(student1);
                students.push(student2);

                // 배열 내 각 객체별 메소드 추가
                for(var i=0; i<students.length; i++){
                    students[i].getSum = function(){
                        return this.kor+this.eng+this.math;
                    }
                    students[i].getAvg = function(){
                        return this.getSum() / 3;
                    }
                }
                // 브라우저 개발자 도구의 console 창에 출력
                    // 변수값 확인 시 유용하게 활용 가능
                console.log(students);

                // 배열 내 객체 값 화면에 출력
                var area1 = document.getElementById('area1');
                for(var i in students){
                    with(students[i]){
                        area1.innerHTML += "이름 : "+name
                        +", 국어 : "+kor+", 영어 : "+eng+", 수학 : "+math
                        +", 총점 : "+getSum()+", 평균 : "+getAvg().toFixed(2)+"<br>";
                    }
                }
            }
        </script>
        <h3>함수를 활용하여 객체 생성</h3>
        <fieldset>
            <legend>회원 정보 입력</legend>
            <label for="name">이름 : </label><br>
            <input type="text" id="name"><br>
            <label for="age">나이 : </label><br>
            <input type="text" id="age"><br>
            <label for="tel">전화번호 : </label><br>
            <input type="text" id="tel"><br><br>
            <button onclick="insert();">데이터 입력</button>
            <button onclick="print();">데이터 출력</button>
        </fieldset>
        <div id="area2" class="area"></div>
        <script>
            memberArr = new Array();
            function insert(){
                // 입력칸(input) 요소 가져오기
                var nameElement = document.getElementById('name');
                var ageElement = document.getElementById('age');
                var telElement = document.getElementById('tel');
            // // insert()함수에서 직접 객체 생성 후 배열에 저장
            //     // 각 요소에 입력된 값을 이용해 객체 생성
            //     var member = {
            //         name: nameElement.value,
            //         age: ageElement.value,
            //         tel: telElement.value
            //     };
            //     // 생성된 객체를 배열에 저장
            //     memberArr.push(member);

            // 객체 생성 함수 활용
                memberArr.push(createMember(nameElement.value, ageElement.value, telElement));    

                // 콘솔에 출력
                console.log(memberArr);

                // 데이터 입력 후 입력칸 비우기
                nameElement.value="";
                ageElement.value="";
                telElement.value="";
            }
            function createMember(name, age, tel){
                var member = {name: name, age: age, tel: tel};
                return member;
            }
            function print(){
                var area2 = document.getElementById('area2');
                for(var i=0; i<memberArr.length; i++){
                    with(memberArr[i]){
                        area2.innerHTML += "이름 : "+name
                        +", 나이 : "+age+", 전화번호 : "+tel
                        +"<br>";
                    }
                }
            }
        </script>
    </body>
</html>